

<header class="flex items-center p-4 border-b border-slate-200">
    <button id="back-to-list-btn" class="mr-4 text-slate-500 hover:text-slate-700 transition">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
    </button>
    <img id="chat-char-avatar" src="" class="w-12 h-12 rounded-full object-cover mr-4">
    <h2 id="chat-char-name" class="text-xl font-bold"></h2>
</header>
<div id="chat-messages" class="flex-grow p-4 overflow-y-auto chat-scroll bg-slate-50">
    <!-- Messages will be rendered here -->
</div>
<div id="typing-indicator" class="px-4 py-2 text-slate-500 hidden">
    <div class="flex items-center space-x-2">
        <div class="w-2 h-2 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.3s]"></div>
        <div class="w-2 h-2 bg-slate-400 rounded-full animate-bounce [animation-delay:-0.15s]"></div>
        <div class="w-2 h-2 bg-slate-400 rounded-full animate-bounce"></div>
        <span class="text-sm">が考えています...</span>
    </div>
</div>
<footer class="p-4 border-t border-slate-200 bg-white">
    <div class="flex items-start space-x-3">
        <textarea id="chat-input" placeholder="メッセージを入力..." rows="1" class="flex-grow p-2 border border-slate-300 rounded-md resize-none bg-white"></textarea>
        <button id="send-message-btn" class="bg-blue-500 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-600 transition disabled:bg-slate-300 flex-shrink-0">
             <span class="btn-text">Send</span>
             <div class="btn-loader hidden w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
        </button>
    </div>
</footer>